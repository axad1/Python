{% extends "layout.html" %}

{% block title %}Market{% endblock %}

{% block main %}

<div class="row mt-4  container-fluid">
    <div class="col">
        <h2>Available items</h2>
        <p>Click item to start buying</p>
        <table class="table table-striped table-sm table-hover table-dark align-middle text-center">
            <thead class="table-light">
                <th scope="col">ID</th>
                <th scope="col">NAME</th>
                <th scope="col">PRICE</th>
                <th scope="col">OPTIONS</th>
            </thead>
            <tbody>
                {% for item in items %}
                {% include 'includes/modals.html' %}
                <tr>
                    <td scope="row">{{item.id}}</td>
                    <td>{{item.item}}</td>
                    <td>{{item.price}}$</td>
                    <td>
                        <button class="btn btn-outline-info" data-bs-toggle="modal" data-bs-target="#Modal-MoreInfo-{{item.id}}">More info</button>
                        <button class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="#Modal-Buy-{{item.id}}">Buy Item</button>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table> 
    </div>
    
    <div class="col-4">
        <h2>Owned items</h2>
        <p>Items you have purchased</p>
        <div class="d-flex flex-wrap gap-1">
            {% for item in owned %}
            {% include 'includes/modals.html' %}
            <div class="card flex-wrap bg-transparent border-secondary text-center">
                <div class="card-header bg-dark">{{item.id}}</div>
                <div class="card-body">
                    <div class="card-title">
                        <h5>
                            {{ item.item }}
                        </h5>
                        <button class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#Modal-Sell-{{item.id}}">Remove Item</button>
                    </div>
                    <div class="card-text">
                        This item costs {{ item.price }} Rs.
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>


{% endblock %}